name: GitHub Metrics

on:
  # Akcja uruchomi się automatycznie raz dziennie o północy
  schedule:
    - cron: '0 0 * * *'
  # Pozwala też na ręczne uruchomienie z zakładki "Actions" w repozytorium
  workflow_dispatch:

jobs:
  # ZADANIE 1: Kalendarz izometryczny (bez zmian)
  calendar_job:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          filename: metrics.plugin.isocalendar.svg  # <-- Obrazek 1
          base: ""
          plugin_isocalendar: yes
          plugin_isocalendar_duration: half-year

  # ZADANIE 2: Szablon "Classic" (zamiast Terminala)
  classic_job:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          filename: metrics.classic.svg   # <-- Obrazek 2 (nowa nazwa)
          # Szablon "classic" jest domyślny, więc nie trzeba go podawać
          
          # Zgodnie z przykładem, który podałeś:
          base: header, repositories   # Pokaże nagłówek i listę repozytoriów
          plugin_lines: yes          # Doda plugin liczący linie kodu
